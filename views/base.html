{% if doc.collection.title == 'page' %}
	{% set page_class = 'page--' + doc.slug %}
{% else %}
	{% set page_class = 'page--' + doc.collection.title %}
{% endif %}
<!DOCTYPE html>
<html lang="{{ doc.locale | replace('_', '-') }}" dir="ltr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<meta name="theme-color" content="#212121">
		<title> {{ doc.title }} | Liam Newmarch </title>
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons|Roboto:100,400">
		<link rel="stylesheet" href="{{ g.static('/static/css/min.css').url.path }}">
		<link rel="serviceworker" href="{{ g.static('/static/js/service-worker.js').url.path }}" scope="/">
		<link rel="manifest" href="{{ g.static('/static/json/manifest.json').url.path }}">
		<link rel="icon" href="{{ g.static('/static/img/ln-icon-32.png').url.path }}">
		<link rel="canonical" href="https://liamnewmarch.co.uk{{ doc.url.path }}" />
	</head>
	<body class="page {{ page_class }}">
	{% block body %}
		<div class="hamburger js-modal-trigger" data-modal="main-menu" aria-hidden>
			<div class="hamburger__line"></div>
			<div class="hamburger__line"></div>
			<div class="hamburger__line"></div>
		</div>
		<div class="search__button js-modal-trigger" data-modal="search" aria-hidden>
			<i class="material-icons">search</i>
		</div>
		<header class="header">
			<a href="/" rel="home" class="header__content">
				<h1 class="header__title"> Liam Newmarch </h1>
				<p class="header__subtitle"> Web developer </p>
			</a>
		</header>
		<nav class="main-menu js-modal" role="navigation" data-modal="main-menu">
			<ul class="main-menu__items">
				{% for page in g.docs('pages') %}
				<li class="main-menu__item">
					<a href="{{ page.url.path }}" class="main-menu__link">
						<i class="main-menu__icon material-icons">{{ page.icon }}</i>
						{{ page.title }}
					</a>
				</li>
				{% endfor %}
			</ul>
		</nav>
		{% if self.pre_content() %}
		<aside class="pre-content">
	    <div class="pre-content__content">
				{% block pre_content %}{% endblock %}
			</div>
		</aside>
		{% endif %}
		{% if self.main_content() %}
		<main class="main-content">
			{% block main_content %}
				{% if doc.html %}
				{{ doc.html | safe }}
				{% else %}
				{{ g.doc('/content/pages/404.yaml').html | safe }}
				{% endif %}
			{% endblock %}
		</main>
		{% endif %}
		<nav class="search js-modal" role="navigation" data-modal="search" aria-hidden>
			<header class="search__header form">
				<h2 class="search__title"> Search </h2>
				<input type="search" placeholder="Search pages and posts" class="search__input form__input js-filter" data-filter="search">
			</header>
			<div class="search__list">
				{% for collection in g.collections(['pages', 'posts']) %}
					{% for doc in collection %}
					<p class="search__item js-filter-item" data-filter="search">
						<a href="{{ doc.url.path }}" class="search__link">{{ doc.title }}</a>
					</p>
					{% endfor %}
				{% endfor %}
			</div>
		</nav>
		<footer class="footer">
			<div class="footer__content">
				<p> Handcoded with â™¡ by Liam Newmarch, 2016. </p>
				<p> Source available under <a href="http://www.gnu.org/copyleft/gpl.html">GPLv3</a> on <a href="https://github.com/liamnewmarch/liamnewmarch.co.uk">GitHub</a>. </p>
			</div>
		</footer>
	{% endblock %}
		<script src="{{ g.static('/static/libs/es6-promise/promise.min.js').url.path }}"></script>
		<script src="{{ g.static('/static/libs/fetch/fetch.js').url.path }}"></script>
		<script src="{{ g.static('/static/js/min.js').url.path }}"></script>
		<div class="js-google-analytics" data-tracking-id="UA-6676765-4"></div>
	</body>
</html>
