application: liamnewmarch-blog
version: live
runtime: python27
api_version: 1
threadsafe: true

handlers:
- url: /(.+\.css)
  mime_type: text/css
  static_files: _site/\1
  upload: _site/(.+\.css)

- url: /(.+\.html)
  mime_type: text/html
  static_files: _site/\1
  upload: _site/(.+\.html)

- url: /(.+\.js)
  mime_type: text/javascript
  static_files: _site/\1
  upload: _site/(.+\.js)

- url: /(.+\.txt)
  mime_type: text/plain
  static_files: _site/\1
  upload: _site/(.+\.txt)

# image files
- url: /(.+\.(bmp|gif|ico|jpeg|jpg|png))
  static_files: _site/\1
  upload: _site/(.+\.(bmp|gif|ico|jpeg|jpg|png))

# assets
- url: /assets/(.+)
  static_files: _site/assets/\1
  upload: _site/assets/(.+)

# pages
- url: /(about|assets|contact)/?$
  static_files: _site/\1/index.html
  upload: _site/(.+)/index\.html

# posts - new urls
- url: /posts/(.+?)/?$
  static_files: _site/posts/\1/index.html
  upload: _site/posts/(.+)/index\.html

# posts - old urls
- url: /(.+?)/?$
  static_files: _site/posts/\1/index.html
  upload: _site/posts/(.+)/index\.html

# site root
- url: /
  static_files: _site/index.html
  upload: _site/index.html

skip_files:
  # folders
- ^.git.*
- ^_layouts.*
- ^_posts.*
- ^about.*
- ^assets.*
- ^contact.*
- ^grunt.*
- ^node_modules.*
  # files
- ^CNAME
- ^Gruntfile.js
- ^package.json
- ^.*\.md
